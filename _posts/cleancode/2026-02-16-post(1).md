---
title: Test Code (1)
date: 2026-02-16 11:11:11 
categories: [TOP_CATEGORY, SUB_CATEGORY]
tags: [TAG]     # TAG names should always be lowercase
---

# AI로 테스트 코드를 작성하기 전에 알아야할 것

## 들어가기 전
코드리뷰어 교육을 들으면서 다시 한 번 느낀 점이 있다.
좋은 코드를 만드는 것도 중요하지만, 결국 코드를 안전하게 바꿀 수 있게 해주는 건 테스트라는 점이다.

하지만... 문제는 현실이다.
테스트 코드의 중요성을 모르는 사람은 거의 없지만, 일정이 빠듯해지면 가장 먼저 미뤄지는 것도 테스트다.
테스트를 작성하려고 하면 코드보다 준비할 게 더 많다고 느껴질 때도 있다.

최근에는 AI 도구를 조금씩 활용해 보고 있다.
처음에는 단순히 테스트 코드를 빠르게 작성할 수 있지 않을까 하는 가벼운 기대에서 시작했지만, 실제로 써보니 예상했던 것과는 조금 다른 부분에서 도움이 된다는 걸 느끼게 됐다.

그래서 이번 글에서는
AI 도구를 활용해 테스트를 설계할 때 어떤 식으로 접근하면 도움이 되는지에 대해 정리해 보려고 한다.

## AI 도구로 “테스트 코드”가 아니라 “테스트 설계”를 하는 방법

AI를 테스트에 활용한다고 하면 보통 테스트 코드를 자동으로 만들어주는 기능부터 떠올린다.

나 역시도 프롬프트에 

> 이런 기능에 대해 테스트 코드 3~5개 정도 만들어줘!

라는  단순한 요청부터 입력했었다.
하지만 실제로 더 도움이 되는 부분은 그보다 앞 단계다.

이해를 돕기 위해 간단한 예시를 들어보자.
어떤 API가 다음과 같은 흐름으로 동작한다고 가정해 보자.

1. 요청 검증
2. 인증 확인
3. 내부 서비스 호출
4. 응답 반환

이 정도만 봐도 테스트할 포인트는 꽤 많다.
문제는 이걸 처음부터 빠짐없이 떠올리기가 쉽지 않다는 점이다.

## 1. 검증 대상을 명확하게 정하기
테스트 코드를 작성하다 보면
의외로 가장 자주 막히는 부분이 여기다.

> 그래서 뭘 확인해야 하지?

예를 들어 API 테스트라면 보통 이런 것들이다.

- 상태 코드
- 반환 메시지
- 내부 서비스 호출 여부

이 기준이 먼저 정리되면 테스트 작성이 훨씬 쉬워진다.

이때 AI에게는 이렇게 물어볼 수 있다.

> 이 API 테스트에서 검증해야 할 주요 결과는 무엇인지 정리해 줄 수 있을까?

이 질문의 핵심은
코드를 달라는 것이 아니라
검증 기준을 정리하는 것이다.

### 검증 기준을 더 구체적으로 얻고 싶다면

질문을 한 단계만 더 구체화해도 결과의 질이 크게 달라진다.
예를 들어 다음과 같이 질문을 발전시킬 수 있다.

> 요청 검증과 내부 서비스 호출이 있는 API가 있다.
> 테스트에서 검증해야 할 항목을 다음 기준으로 정리해 줄 수 있을까?
>
> * HTTP 응답 (상태 코드, 메시지)
> * 내부 로직 동작 여부 (특정 메서드 호출 여부 등)
> * 부가적인 결과 (로그, 상태 변경, 재시도 여부 등)

이처럼 **검증 항목의 범주를 먼저 제시**하면
결과가 훨씬 구체적으로 정리된다.

핵심은 **무엇을 확인해야 하는가**를 먼저 정하는 것 이다

## 2. 실패 흐름 점검하기
테스트를 처음 설계할 때 대부분 정상 흐름부터 떠올린다.

예를 들어 

- 정상 요청
- 인증 실패

정도에서 멈추는 경우가 많다.

하지만 실제 운영 환경에서 문제를 일으키는 경우는 다양한 실패 상황에서 발생한다.

- 요청 형식 오류
- 내부 서비스 오류
- 응답 형식 불일치
- timeout

이때 AI를 활용하면 실패 흐름을 한 번 더 점검할 수 있다.
예를 들어 이런 식으로 질문할 수 있다.

> 요청 검증과 내부 서비스 호출이 있는 API가 있다.
정상 흐름 외에 테스트로 검증해야 할 실패 시나리오를 정리해 줄 수 있을까?

### 실패 시나리오를 더 구체적으로 얻는 방법
조금 더 실전적인 결과를 얻고 싶다면
다음처럼 조건을 붙이는 것이 좋다.

1. 카테고리 별로 실패 시나리오를 추출하기

> 요청 검증 + 인증 + 내부 서비스 호출이 있는 API의 실패 시나리오를 정리해줘.
단, 아래 카테고리별로 최소 3개씩 써줘:
> - 입력 검증(요청/헤더/쿼리)
> - 인증/인가
> - 내부 서비스 호출(네트워크/timeout)
> - 내부 서비스 응답(형식/상태코드/데이터)
> - 시스템/리소스(레이트리밋/메모리/스레드풀)

2. "관찰 가능한 결과(무엇을 assert할지)"까지 포함하게 하기

> 실패 시나리오를 나열할 때 각 항목마다 아래를 함께 써줘:
> - 트리거(어떤 입력/상황에서)
> - 기대 결과(HTTP 상태코드/에러바디/에러코드)
> - 추가로 검증할 것(내부 서비스 호출 여부, 재시도 여부, 로그/ 메트릭 발생)

중요한 것은 이 질문의 목적은 코드를 생성하는 것이 아니라 **테스트 범위를 넓히는 것**이다.


## 3. 경계값 테스트

많은 버그는 경계값에서 발생한다.

예를 들어 다음과 같은 값들이다.

* 수량이 0인 경우
* 최대 허용값 바로 아래
* 최대 허용값
* 최대 허용값을 초과한 경우

이런 테스트는 중요하지만
설계 단계에서 빠지기 쉽다.

이때 다음과 같이 질문할 수 있다.

> 입력값 검증이 있는 API에서 경계값 테스트로 고려할 항목을 정리해줄 수 있을까?

이 질문은 경계 조건을 빠르게 점검하는 데 도움이 된다.

### 경계값을 더 구체적으로 얻고 싶다면

> 입력값에 최소값과 최대값 제한이 있는 API가 있다.
경계값 테스트를 설계할 때 확인해야 할 케이스를
다음 기준으로 나누어 정리해줘.
> 
> - 최소값 근처
> - 최대값 근처
> - 범위를 벗어나는 값
> 
> 또한 각 경계값 테스트에서 무엇을 검증해야 하는지도 함께 정리해줘.
> 
> 예: 상태 코드, 오류 메시지, 내부 호출 여부  

이렇게 범주를 나누어 요청하면
테스트 케이스를 더 체계적으로 정리할 수 있다.

---

## 정리

AI를 테스트에 활용하면서 느낀 점은 분명했다.

AI는 테스트 코드를 대신 작성해주는 도구라기보다
테스트 설계를 정리하고 빠뜨린 부분을 점검하게 해주는 도구에 가깝다.

특히 도움이 되는 부분은 다음이다.

- 검증 기준 정리
- 실패 시나리오 확장
- 경계값 점검

테스트 코드를 작성하기 전에
테스트를 어떻게 해야 할지를 먼저 정리하는 것.

이 작은 습관 하나만으로도
테스트의 밀도가 꽤 달라진다.

다음 시간에는 실제로 팀에서 위 프롬프트로 작성한 테스트 코드와 함께 AI로 테스트 코드를 잘 작성하는 방법으로 돌아오겠습니다.